
### RAFT【开卷高手】
> **开卷高手**：像个优秀的考生，不仅会找对参考资料，还能准确引用关键内容，并清晰地解释推理过程，让答案既有据可循又合情合理。
>

* 发表时间：03.15
* 论文名称：[RAFT: Adapting Language Model to Domain Specific RAG](https://arxiv.org/abs/2403.10131)
* 论文链接：[https://arxiv.org/abs/2403.10131](https://arxiv.org/abs/2403.10131)

#### 一、论文动机

- **领域适应挑战**：大语言模型在特定领域应用时，如何有效融入新信息是一个挑战。传统的RAG方法允许模型在生成答案时参考文档，但未能充分利用固定领域设置下的学习机会；而基于微调的方法可以学习文档中的普遍模式，但未能充分利用测试时的文档信息.
- **RAFT的目标**：结合RAG和微调的优势，提出一种新的训练策略，使模型在特定领域中更好地适应和生成准确的答案.

#### 二、论文思路

- **核心思想**：在训练过程中引入干扰文档，以提高模型在面对无关信息时的鲁棒性。模型不仅要学会从黄金文档中提取相关信息，还要学会忽略干扰文档.
- **思维链式响应**：训练时采用思维链式响应的方式，即模型在生成答案时不仅要引用相关文档中的正确序列，还要逐步展示其推理过程，提高模型的理解能力和解释性.
- **数据准备与训练**：构建一个包含问题、检索到的文档和正确答案的数据集，每条记录包含一个问题、一组检索到的文档（包括黄金文档和干扰文档）以及正确的答案.使用该数据集对模型进行微调.

![](img/v2-8fedc739728aadf234cd97f146fc54a1_1440w.png)

#### 三、实验设计与结果
- **数据集**：使用PubMed（医学领域）、HotpotQA（多跳问答任务）和Gorilla（API文档）数据集进行实验.
- **实验设置**：设置不同的训练条件，包括不同数量的干扰文档和黄金文档，研究模型在不同训练条件下的表现.
- **结果分析**：实验结果显示，使用干扰文档进行训练的模型在所有数据集上都表现出更好的性能，尤其是在PubMed、HotpotQA和Gorilla数据集上均表现出色，证明了RAFT方法的有效性.

#### 四、论文创新点

- **模型鲁棒性提升**：通过引入干扰文档，RAFT有效提升了模型在面对无关信息时的鲁棒性，使模型在测试时表现出更强的适应能力.
- **思维链式响应的作用**：思维链式响应在训练过程中起到了关键作用，提高了模型的理解能力和解释性，尤其在复杂任务中表现更为出色.

#### 五、论文总结

RAFT旨在提高模型在特定领域内的“开卷”环境中回答问题的能力，通过训练模型忽略无关文档，并逐字引用相关文档中的正确序列来回答问题，结合思维链式响应，显著提升了模型的推理能力。

#### 致谢

* 参考：[https://mp.weixin.qq.com/s/PPaviBpF8hdviqml3kPGIQ](https://mp.weixin.qq.com/s/PPaviBpF8hdviqml3kPGIQ)
