
### Adaptive-RAG【因材施教】
> **因材施教**：面对不同难度的问题，它会智能地选择最合适的解答方式。简单问题直接回答，复杂问题则会查阅更多资料或分步骤推理，就像一个经验丰富的老师，懂得根据学生的具体问题调整教学方法。
>

* 发表时间：2024.03.21
* 论文名称：[Adaptive-RAG: Learning to Adapt Retrieval-Augmented Large Language Models through Question Complexity](https://arxiv.org/abs/2403.14403)
* 论文地址：[https://arxiv.org/abs/2403.14403](https://arxiv.org/abs/2403.14403)
* Github 项目：[https://github.com/starsuzi/Adaptive-RAG](https://github.com/starsuzi/Adaptive-RAG)

#### 一、论文动机

- **检索增强语言模型的局限性**：现有的检索增强语言模型（LLMs）在处理不同复杂度的查询时存在局限性。简单查询可能不需要复杂的检索过程，而复杂查询则需要多步推理和信息整合.
- **自适应策略的需求**：为了提高问答系统的效率和准确性，需要一种能够根据查询复杂性动态调整检索策略的方法.

#### 二、论文思路

![](img/v2-a35d6afdccf8a830787880f10a71d836_1440w.png)

- **核心思想**：使用一个小模型作为分类器，预测查询的复杂度，并根据预测结果选择合适的检索增强策略.
- **查询复杂度评估**：分类器将查询分为三类：简单查询（A）、中等复杂度查询（B）和复杂查询（C）.
- **自适应策略**：
  - 简单查询：使用非检索方法直接生成答案.
  - 中等复杂度查询：使用单步检索方法.
  - 复杂查询：使用多步检索方法.
- **训练策略**：自动构建训练数据集，通过不同检索增强策略的结果来确定查询的复杂度标签。例如，如果非检索策略能正确回答，则将查询标记为简单。此外，利用数据集的固有偏差来补充标签.

#### 三、实验设计与结果

- **数据集**：使用多个公开的单步和多步问答数据集，如SQuAD v1.1、Natural Questions、TriviaQA等.
- **模型比较**：与非检索、单步检索、多步检索以及现有的自适应检索方法（如Self-RAG）进行比较.
- **评估指标**：使用F1、EM、Accuracy等指标评估任务性能，同时考虑检索和生成步骤数、每个查询的平均回答时间等效率指标.
- **结果分析**：实验结果表明，Adaptive-RAG在有效性和效率上均优于现有的方法，特别是在处理复杂查询时，能够更有效地利用资源，提高答案的准确性.

#### 四、论文创新点

1. **自适应问答框架**：
   1. **动态策略选择**：提出了一种自适应的问答框架（Adaptive-RAG），能够根据查询的复杂度动态选择最合适的检索增强策略。这种动态选择机制使得系统能够灵活地应对不同复杂度的查询，而不是采用一种固定的处理方式.
   2. **平衡效率与准确性**：通过自适应地选择策略，能够在保持高准确性的同时提高系统的效率。对于简单查询，避免不必要的复杂处理；对于复杂查询，则提供足够的计算资源以确保准确回答.
2. **查询复杂度分类器**：
   1. **自动标注训练数据**：设计了一个分类器来预测查询的复杂度，并通过自动化的标注策略来构建训练数据集。这种方法利用模型的实际预测结果和数据集的固有偏差，无需人工标注，降低了数据准备的难度和成本.
   2. **多级复杂度识别**：将查询分为三个复杂度等级（简单、中等、复杂），能够更细致地识别不同类型的查询，从而为每种查询选择更合适的处理策略.
3. **综合策略融合**：
   1. **无检索、单步检索和多步检索的融合**：Adaptive-RAG框架能够在无检索、单步检索和多步检索之间无缝切换，根据查询的复杂度选择最合适的策略。这种融合使得系统能够充分利用各种策略的优势，提高整体的问答性能.

#### 五、论文总结

Adaptive-RAG根据查询的复杂程度动态选择最适合的检索增强策略，从最简单到最复杂的策略中动态地为LLM选择最合适的策略。这个选择过程通过一个小语言模型分类器来实现，预测查询的复杂性并自动收集标签以优化选择过程。这种方法提供了一种平衡的策略，能够在迭代式和单步检索增强型 LLMs 以及无检索方法之间无缝适应，以应对一系列查询复杂度。


### 致谢

* 参考：[https://mp.weixin.qq.com/s/sxAu8xahY-GthS--nfgmjg](https://mp.weixin.qq.com/s/sxAu8xahY-GthS--nfgmjg)
