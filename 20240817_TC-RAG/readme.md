### TC-RAG【记忆术士】
> **记忆术士**：给LLM装了个带自动清理功能的大脑。就像我们解题，会把重要步骤写在草稿纸上，做完就划掉。它不是死记硬背，该记的记住，该忘的及时清空，像个会收拾房间的学霸。
>

* 发表时间：2024.08.17
* 论文名称：[TC-RAG: Turing-Complete RAG's Case study on Medical LLM Systems](https://arxiv.org/abs/2408.09199)
* 论文地址：[https://arxiv.org/abs/2408.09199](https://arxiv.org/abs/2408.09199)
* Github 地址：[https://github.com/Artessay/TC-RAG](https://github.com/Artessay/TC-RAG)

#### 一、论文动机

- **RAG技术的重要性**：RAG通过结合LLMs的生成能力和外部数据检索来提高回答的准确性，但在处理长文本和噪声信息时仍面临挑战。
- **现有RAG方法的局限性**：现有RAG方法忽视了系统状态变量的引入，这些变量对于确保自适应控制、检索停止和系统收敛至关重要。此外，现有方法不是图灵完备的，缺乏动态管理和监控检索过程的能力。

#### 二、论文思路

![](20240817_TC-RAG/img/v2-c3caeaa09745290d8042936b69ec2461_1440w.png)

- **目标**：提出一个图灵完备的RAG系统，通过引入系统状态变量和内存堆栈系统，实现更高效、准确的知识检索。
- **关键组件**：
  - **内存堆栈系统**：监控中间状态，确保检索过程可靠地收敛到最佳结论。
  - **状态变量**：实时评估系统状态，决定是否继续、停止或改进检索过程。
  - **自适应检索**：根据模型的内部参数化知识决定是否检索以及检索什么，避免检索无关信息。

- **图灵完备的记忆栈定义**：
  - **记忆栈Tc**：包括状态集合S、动作集合A、记忆栈M、状态转移函数delta、初始状态s0、终止状态F和阈值sigma。
  - **复合操作**：定义了5个由push和pop组合而成的有意义的行为，包括思考、工具调用、反思、总结和结论。
- **状态变量**：
  - **条件困惑度**：计算大模型生成栈顶输出内容时的困惑度。
  - **不确定性**：计算输出栈顶信息的熵值。
  - **终止条件**：当状态变量小于阈值时，系统停止检索并输出最终答案。

#### 三、实验设计与结果

- **实验设置**：
  - **医学LLM模型**：使用海量数据持续预训练的医学LLM。
  - **医学工具库**：包括医学知识图谱、医学文档库、网页检索、百科检索和电子病历数据。
- **实验结果**：
  - **性能提升**：TC-RAG在多个真实世界的医疗数据集上显著优于现有基准方法，准确率平均提升了7.20%。
  - **噪声处理**：TC-RAG在弹出检索噪声、保留有效信息方面表现出色。
  - **消融实验**：验证了反思与总结动作的有效性以及状态变量引入的必要性。

#### 四、论文总结

通过引入图灵完备的系统来管理状态变量，从而实现更高效、准确的知识检索。通过利用具有自适应检索、推理和规划能力的记忆堆栈系统，TC-RAG不仅确保了检索过程的受控停止，还通过Push和Pop操作减轻了错误知识的积累。


## 致谢

* 参考：[https://mp.weixin.qq.com/s/9VhIC5sJP_6nh_Ppfsb6UQ](https://mp.weixin.qq.com/s/9VhIC5sJP_6nh_Ppfsb6UQ)
